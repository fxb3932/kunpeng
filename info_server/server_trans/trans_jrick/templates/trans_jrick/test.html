{% extends "trans_jrick/base.html" %}
{% block content %}


<p id="test">aaa</p>
<p id="test2">aaa</p>
<p id="test3">aaa</p>
<button class="layui-btn" lay-submit="" lay-filter="demo1" id="button" onclick="mytest()">立即提交-传入参数</button>

<button class="layui-btn" lay-submit="" lay-filter="demo1" id="button" onclick="mytest2()">返回json字符串</button>
<button class="layui-btn" lay-submit="" lay-filter="demo1" id="button" onclick="mytest3()">返回字符串</button>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>表单集合演示</legend>
</fieldset>
<form class="layui-form" action="">
  <div class="layui-form-item">
    <label class="layui-form-label">单行输入框</label>
    <div class="layui-input-block">
      <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入标题" class="layui-input">
    </div>
  </div>


        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
            </div>
        </div>
</form>
<script>

    function mytest() {
        document.getElementById('test').innerHTML = 'mytest huiyang';
        layui.use(['form', 'layedit', 'laydate'], function () {
            var $ = layui.jquery
                , form = layui.form
                , layer = layui.layer
                , layedit = layui.layedit
                , laydate = layui.laydate;


            var myObj = {name: "Bill Gates", age: 62, city: "Seattle",YH:"yanghui-xxxxx"};    //json对象
            console.log("myObj:" + typeof(myObj))
            console.log("----------------")
            var myJSON = JSON.stringify(myObj);       //json字符串
            console.log("myJSON:" + typeof(myJSON))

            $.post("submit/",
                myObj,
                function (data, status) {
                    console.log(data)
                    console.log("接受数据类型" + typeof(data));
                    //document.getElementById('test').innerHTML = data;

                    aa = JSON.parse(data)
                    document.getElementById('test').innerHTML = aa.YH;
                });
        });
    }
    function mytest2() {
        document.getElementById('test2').innerHTML = 'mytest2';
        layui.use(['form', 'layedit', 'laydate'], function () {
            var $ = layui.jquery
                , form = layui.form
                , layer = layui.layer
                , layedit = layui.layedit
                , laydate = layui.laydate;


            var myObj = {name: "Bill Gates", age: 62, city: "Seattle"};    //json对象
            console.log("myObj:" + typeof(myObj))
            console.log("----------------")
            var myJSON = JSON.stringify(myObj);       //json字符串
            console.log("myJSON:" + typeof(myJSON))

            $.post("submit_new/",
                myJSON,
                function (data, status) {
                    console.log(data)
                    console.log("接受数据类型" + typeof(data));
                    document.getElementById('test2').innerHTML = data.YH;

                    //aa=JSON.parse(data)
                    //document.getElementById('test').innerHTML = aa.YH;
                });
        });
    }
    function mytest3() {
        document.getElementById('test3').innerHTML = 'mytest3';
        layui.use(['form', 'layedit', 'laydate'], function () {
            var $ = layui.jquery
                , form = layui.form
                , layer = layui.layer
                , layedit = layui.layedit
                , laydate = layui.laydate;


            var myObj = {name: "Bill Gates", age: 62, city: "Seattle"};    //json对象


            $.post("submit_aa/",
                myObj,
                function (data, status) {
                    console.log(data)
                    console.log("接受数据类型" + typeof(data));
                    document.getElementById('test3').innerHTML = data;

                });
        });
    }

    layui.use(['form', 'layedit', 'laydate'], function () {
        var form = layui.form
            , layer = layui.layer
            , layedit = layui.layedit
            , laydate = layui.laydate;


    });
</script>


{% endblock %}
